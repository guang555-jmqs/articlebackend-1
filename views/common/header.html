<div class="layui-header">
    <div class="layui-logo">layui 后台布局</div>
    <!-- 头部区域（可配合layui已有的水平导航） -->
    <ul class="layui-nav layui-layout-left">
      <li class="layui-nav-item"><a href="">控制台</a></li>
      <li class="layui-nav-item"><a href="">商品管理</a></li>
      <li class="layui-nav-item"><a href="">用户</a></li>
      <li class="layui-nav-item">
        <a href="javascript:;">其它系统</a>
        <dl class="layui-nav-child">
          <dd><a href="">邮件管理</a></dd>
          <dd><a href="">消息管理</a></dd>
          <dd><a href="">授权管理</a></dd>
        </dl>
      </li>
    </ul>
    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item">
        <a href="javascript:;">
          <img id="avatar" src="" class="layui-nav-img" alt="暂无头像">
           <span id="username">匿名</span>
        </a>
        <dl class="layui-nav-child">
          <dd><a href="">基本资料</a></dd>
          <dd><a href="">安全设置</a></dd>
        </dl>
      </li>
      <li class="layui-nav-item"><a id="logout" href="javascript:;">退出系统</a></li>
    </ul>
  </div>
  <script>
    window.onload = function(){
      layui.use(['layer'],function(){
        let layer = layui.layer;
        // 设置当前用户的信息
        let userInfo =  JSON.parse(localStorage.getItem('userInfo') || '{}');
        document.getElementById('username').innerHTML = userInfo.username
        let defaultAvatar = '/public/images/default.png';
        document.getElementById('avatar').src = userInfo.avatar || defaultAvatar
        // 退出
        document.getElementById('logout').onclick = function(){
          // 清空session(需要发送ajax请求)
          $.get('/logout',(res)=>{
            // 清空本地存储
            localStorage.clear();
            layer.msg(res.message)
            location.href = '/login'
          })
          
        }
      })
    }
   
    
  </script>
